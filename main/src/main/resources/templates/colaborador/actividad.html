<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/global.css}">
    <link rel="stylesheet" th:href="@{/css/adminBd.css}">

    <link rel="stylesheet" href="../../static/css/global.css">
    <link rel="stylesheet" href="../../static/css/adminBd.css">

    <link rel="icon" th:href="@{/images/icon_eta.png}" type="image/x-icon" />
    <link rel="shortcout icon" href="assets/images/logo_rework.jpg">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>ETA | Actividades</title>

</head>

<body>
    <section class="container-manager ">

        <!-- Sidebar -->
        <div class="side-bar flex flex-col">
            <div class="logo-manager">
                <a th:href="@{/colaborador/dashboard}" class="info-dashboard">
                    <div class="id-content">
                        <h1>Colaborador</h1>
                        <p>Generador de Actividades</p>
                    </div>
                </a>
            </div>
            <div class="menu">
                <ul>
                    <div class="info gap-2">

                        <p class="title-bar"> Platforma</p>
                        <li class="menu-link">
                            <a th:href="@{/colaborador/actividades}" sec:authorize="hasAnyRole('ROLE_COLABORADOR')">
                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"
                                    class="small-icon">
                                    <path fill="#000" fill-rule="evenodd"
                                        d="M20 4H4a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1M4 2a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm2 5h2v2H6zm5 0a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2zm-3 4H6v2h2zm2 1a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1m-2 3H6v2h2zm2 1a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1"
                                        clip-rule="evenodd" stroke-width="0.2" stroke="#000" />
                                </svg>
                                <p class="btn btn-primary btn-lg">
                                    Ver actividades
                                </p>
                            </a>
                        </li>

                        <!--<li class="menu-link">
                        <a th:href="@{/actividades/lista}" sec:authorize="hasRole('COLABORADOR')">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
                                <path fill="#000"
                                      d="M21 14v5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5v2H5v14h14v-5z"
                                      stroke-width="0.5" stroke="#000" />
                                <path fill="#000" d="M21 7h-4V3h-2v4h-4v2h4v4h2V9h4z" stroke-width="0.2"
                                      stroke="#000" />
                            </svg>
                            <p class="btn btn-success btn-lg">
                                Crear actividad
                            </p>
                        </a>
                    </li>-->

                        <!-- <li class="menu-link">
                        <a th:href="@{/Colaboradores}" sec:authorize="hasRole('COLABORADOR')">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
                                <path fill="#000"
                                    d="M21 14v5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5v2H5v14h14v-5z"
                                    stroke-width="0.5" stroke="#000" />
                                <path fill="#000" d="M21 7h-4V3h-2v4h-4v2h4v4h2V9h4z" stroke-width="0.2"
                                    stroke="#000" />
                            </svg>
                            <p class="btn btn-success btn-lg">
                                Ver Colaboradores
                            </p>
                        </a>
                    </li>

                    <li class="menu-link dropdown">
                        <a href="#" tabindex="0">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                                <path fill="#000" d="m7 10l5 5l5-5z" stroke-width="0.2" stroke="#000" />
                            </svg>
                            <p>Dropdown</p>
                        </a>
                        <div class="dropdown-grafica-container">
                            <ul>
                                <li class="menu-link ">
                                    <a href="/pais/colombia/graficos">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36"
                                            viewBox="0 0 36 36">
                                            <path fill="#fbd116" d="M32 5H4a4 4 0 0 0-4 4v9h36V9a4 4 0 0 0-4-4" />
                                            <path fill="#22408c" d="M0 18h36v7H0z" />
                                            <path fill="#ce2028" d="M0 27a4 4 0 0 0 4 4h28a4 4 0 0 0 4-4v-2H0z" />
                                        </svg>
                                        <p>Colombia</p>
                                    </a>
                                </li>
                                <li class="menu-link ">
                                    <a href="/pais/austria/graficos">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"
                                            viewBox="0 0 64 64">
                                            <path fill="#e6e7e8" d="M0 25h64v14H0z" />
                                            <path fill="#ec1c24"
                                                d="M54 10H10C3.373 10 0 14.925 0 21v4h64v-4c0-6.075-3.373-11-10-11M0 43c0 6.075 3.373 11 10 11h44c6.627 0 10-4.925 10-11v-4H0z" />
                                        </svg>
                                        <p>Austria</p>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </li> -->
                    </div>
                    <div class="cerrar">


                        <li class="menu-link" sec:authorize="isAuthenticated()">
                            <a class="" th:href="@{/logout}">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="small-icon">
                                    <g fill="none">
                                        <path
                                            d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z" />
                                        <path fill="#000"
                                            d="M12 2.5a1.5 1.5 0 0 1 0 3H7a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h4.5a1.5 1.5 0 0 1 0 3H7A3.5 3.5 0 0 1 3.5 18V6A3.5 3.5 0 0 1 7 2.5Zm6.06 5.61l2.829 2.83a1.5 1.5 0 0 1 0 2.12l-2.828 2.83a1.5 1.5 0 1 1-2.122-2.122l.268-.268H12a1.5 1.5 0 0 1 0-3h4.207l-.268-.268a1.5 1.5 0 1 1 2.122-2.121Z" />
                                    </g>
                                </svg>
                                <p>Cerrar Sesion</p>
                            </a>
                        </li>
                    </div>
                </ul>
            </div>
        </div>
        <!-- Main Content -->
        <main class="main-content">

            <div class="header_db">

                <div class="flex gap-3">
                    <svg id="hideBar" class="hidebar-dashboard" xmlns="http://www.w3.org/2000/svg" width="24"
                        height="24" viewBox="0 0 24 24">
                        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                            stroke-width="1.5"
                            d="M15 3.5v17M3 9.4c0-2.24 0-3.36.436-4.216a4 4 0 0 1 1.748-1.748C6.04 3 7.16 3 9.4 3h5.2c2.24 0 3.36 0 4.216.436a4 4 0 0 1 1.748 1.748C21 6.04 21 7.16 21 9.4v5.2c0 2.24 0 3.36-.436 4.216a4 4 0 0 1-1.748 1.748C17.96 21 16.84 21 14.6 21H9.4c-2.24 0-3.36 0-4.216-.436a4 4 0 0 1-1.748-1.748C3 17.96 3 16.84 3 14.6z" />
                    </svg>
                    <nav aria-label="Breadcrumb">
                        <ol class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
                            <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                                <a itemprop="item" href="/">
                                    <span itemprop="name">Inicio</span>
                                </a>
                                <meta itemprop="position" content="1" />
                            </li>

                            <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                                <a itemprop="item" href="/actividades">
                                    <span itemprop="name">Actividades</span>
                                </a>
                                <meta itemprop="position" content="2" />
                            </li>

                        </ol>
                    </nav>

                </div>
            </div>


            <!-- Filtros y Botones -->
            <div class="filtro_db">

                <div class="Identifier-Dashboard">
                    <div class="svg-contain">
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24">
                            <path fill="#000" fill-rule="evenodd"
                                d="M12 1.25c-.605 0-1.162.15-1.771.402c-.589.244-1.273.603-2.124 1.05L6.037 3.787c-1.045.548-1.88.987-2.527 1.418c-.668.447-1.184.917-1.559 1.554c-.374.635-.542 1.323-.623 2.142c-.078.795-.078 1.772-.078 3.002v.194c0 1.23 0 2.207.078 3.002c.081.82.25 1.507.623 2.142c.375.637.89 1.107 1.56 1.554c.645.431 1.481.87 2.526 1.418l2.068 1.085c.851.447 1.535.806 2.124 1.05c.61.252 1.166.402 1.771.402s1.162-.15 1.771-.402c.589-.244 1.273-.603 2.124-1.05l2.068-1.084c1.045-.549 1.88-.988 2.526-1.419c.67-.447 1.185-.917 1.56-1.554c.374-.635.542-1.323.623-2.142c.078-.795.078-1.772.078-3.001v-.196c0-1.229 0-2.206-.078-3.001c-.081-.82-.25-1.507-.623-2.142c-.375-.637-.89-1.107-1.56-1.554c-.645-.431-1.481-.87-2.526-1.418l-2.068-1.085c-.851-.447-1.535-.806-2.124-1.05c-.61-.252-1.166-.402-1.771-.402M8.77 4.046c.89-.467 1.514-.793 2.032-1.007c.504-.209.859-.289 1.198-.289c.34 0 .694.08 1.198.289c.518.214 1.141.54 2.031 1.007l2 1.05c1.09.571 1.855.974 2.428 1.356c.282.189.503.364.683.54l-3.331 1.665l-8.5-4.474zm-1.825.958l-.174.092c-1.09.571-1.855.974-2.427 1.356a4.7 4.7 0 0 0-.683.54L12 11.162l3.357-1.68l-8.206-4.318a.8.8 0 0 1-.206-.16M2.938 8.307c-.05.214-.089.457-.117.74c-.07.714-.071 1.617-.071 2.894v.117c0 1.278 0 2.181.071 2.894c.069.697.2 1.148.423 1.528c.222.377.543.696 1.1 1.068c.572.382 1.337.785 2.427 1.356l2 1.05c.89.467 1.513.793 2.031 1.007q.244.101.448.165v-8.663zm9.812 12.818q.204-.063.448-.164c.518-.214 1.141-.54 2.031-1.007l2-1.05c1.09-.572 1.855-.974 2.428-1.356c.556-.372.877-.691 1.1-1.068c.223-.38.353-.83.422-1.528c.07-.713.071-1.616.071-2.893v-.117c0-1.278 0-2.181-.071-2.894a6 6 0 0 0-.117-.74L17.75 9.963V13a.75.75 0 0 1-1.5 0v-2.286l-3.5 1.75z"
                                clip-rule="evenodd" stroke-width="0.5" stroke="#000" />
                        </svg>
                    </div>
                    <div class="id-content">
                        <h1>Actividades</h1>
                        <p>Agrega y organiza tus productos y servicios</p>
                    </div>
                </div>

                <div class="flex gap-1 filtros-btns">


                    <form th:action="@{/actividades}" method="get" class="search-filter">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                            <path fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="2" d="M3 10a7 7 0 1 0 14 0a7 7 0 1 0-14 0m18 11l-6-6" />
                        </svg>
                        <input type="text" name="filtroNombre" placeholder="Buscar por nombre"
                            th:value="${filtroNombre}">
                        <button type="submit" class="add-btn btn_add">Buscar</button>
                    </form>

                    <div class="flex center gap-2">


                        <!--Btn Filtros-->
                        <a class="btn-filtra">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="18" viewBox="0 0 24 24">
                                <path fill="none" stroke="#000" stroke-dasharray="56" stroke-dashoffset="56"
                                    stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M5 4h14l-5 6.5v9.5l-4 -4v-5.5Z">
                                    <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="56;0" />
                                </path>
                            </svg>
                            <p>Filtrar</p>
                        </a>
                        <!--Btn Agregar-->
                        <div class="add-btn btn_add">

                            <button class="flex gap-2 items-center justify-center text-open-add" id="open-add-modal">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                                    <path fill="#fff"
                                        d="M12 4c4.411 0 8 3.589 8 8s-3.589 8-8 8s-8-3.589-8-8s3.589-8 8-8m0-2C6.477 2 2 6.477 2 12s4.477 10 10 10s10-4.477 10-10S17.523 2 12 2m5 9h-4V7h-2v4H7v2h4v4h2v-4h4z"
                                        stroke-width="0.5" stroke="#fff" />
                                </svg>
                                Agregar Actividades</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="Actividades-Container">
                <a th:each="actividad : ${actividades}"
                    th:href="@{/detalle/actividad/{id}(id=${actividad.idActividad})}" class="Actividad-card-link">
                    <div class="Actividad-card">
                        <div class="price">$ <span th:text="${#numbers.formatDecimal(actividad.precio, 0, 0)}">10</span>
                        </div>

                        <img th:if="${actividad.imagen != null}" th:src="@{'/uploads/' + ${actividad.imagen}}"
                            alt="Imagen de la actividad" />

                        <span th:if="${actividad.imagen == null}" class="fallback-img">Sin imagen</span>

                        <div class="content-actividad">
                            <h3 th:text="${actividad.titulo}">Apartamento ideal en cartagena</h3>
                            <p th:text="${actividad.ubicacion}">Cartagena de Indias</p>
                        </div>
                    </div>
                </a>
            </div>
        </main>



        <!-- Modal para Agregar -->
        <div class="modal modal-add">
    <form th:action="@{/colaborador/actividades/addAct}" method="post" th:object="${actividad}"
        enctype="multipart/form-data">
        <div class="form-heading">
            <h2>Agregar Actividad</h2>
            <p>Llena la información de la actividad</p>
            <span class="close-modal close-btn-modal">&times;</span>
        </div>

        <div class="inputs-form">

            <!-- Título -->
            <div class="form-group">
                <label for="titulo">Título <span class="red">*</span></label>
                <input id="titulo" type="text" th:field="*{titulo}" required minlength="3" maxlength="200" />
            </div>

            <!-- Descripción -->
            <div class="form-group">
                <label for="descripcion">Descripción <span class="red">*</span></label>
                <textarea id="descripcion" th:field="*{descripcion}" class="form-control" required minlength="10"></textarea>
            </div>

            <!-- Precio -->
            <div class="form-group">
                <label for="precio">Precio <span class="red">*</span></label>
                <input id="precio" type="number" th:field="*{precio}" class="form-control" required step="0.01" min="0" max="99999999.99" />
            </div>

            <!-- Ubicación -->
            <div class="form-group">
                <label for="ubicacion">Ubicación</label>
                <input id="ubicacion" type="text" th:field="*{ubicacion}" maxlength="255" />
            </div>

            <!-- Incluye -->
            <div class="form-group">
                <label for="incluye">Incluye</label>
                <textarea id="incluye" th:field="*{incluye}" class="form-control"></textarea>
            </div>

            <!-- Normas -->
            <div class="form-group">
                <label for="normas">Normas</label>
                <textarea id="normas" th:field="*{normas}" class="form-control"></textarea>
            </div>

            <!-- Lenguaje -->
            <div class="form-group">
                <label for="lenguaje">Lenguaje</label>
                <textarea id="lenguaje" th:field="*{lenguaje}" class="form-control"></textarea>
            </div>

            <!-- Condiciones -->
            <div class="form-group">
                <label for="condiciones">Condiciones</label>
                <textarea id="condiciones" th:field="*{condiciones}" class="form-control"></textarea>
            </div>

            <!-- Capacidad -->
            <div class="form-group">
                <label for="capacidad">Capacidad</label>
                <input id="capacidad" type="number" th:field="*{capacidad}" min="1" max="1000" />
            </div>

            <!-- Imagen -->
            <div class="form-group">
                <label for="imagenFile">Imagen</label>
                <input type="file" id="imagenFile" name="imagenFile" accept="image/*">
            </div>

            <!-- Submit -->
            <div class="btnSubmit">
                <button type="submit" class="btn-submit">Agregar</button>
            </div>

        </div>
    </form>
</div>
    </section>

    <script src="../../static/js/dashboard.js"></script>
    <script th:src="@{/js/eliminar/actividad.js}"></script>
    <script th:src="@{/js/dashboard.js}"></script>
</body>

</html>